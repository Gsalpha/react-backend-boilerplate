{"version":3,"sources":["pages/login/index.module.scss","pages/login/index.tsx"],"names":["module","exports","con","header","form","loginBtn","spin","antIcon","react__WEBPACK_IMPORTED_MODULE_10___default","a","createElement","antd_lib_icon__WEBPACK_IMPORTED_MODULE_9___default","type","style","fontSize","Item","create","rules","username","required","message","password","connect","state","loading","login","authLoading","auth","dispatch","payload","loginAction","authAction","memo","_ref","getFieldDecorator","validateFields","useEffect","react_document_title__WEBPACK_IMPORTED_MODULE_12___default","title","antd_lib_spin__WEBPACK_IMPORTED_MODULE_1___default","indicator","spinning","wrapperClassName","className","process","antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default","antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default","size","autoFocus","placeholder","antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default","onClick","error","console","log"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,IAAA,mBAAAC,OAAA,sBAAAC,KAAA,oBAAAC,SAAA,wBAAAC,KAAA,0QCSZC,EAAUC,EAAAC,EAAAC,cAAAC,EAAAF,EAAA,CAAMG,KAAK,UAAUC,MAAO,CAAEC,SAAU,IAAMR,MAAI,IAE1DS,WAAMC,aAkBRC,EAAQ,CACVC,SAAU,CACN,CACIC,UAAU,EACVC,QAAS,gCAGjBC,SAAU,CACN,CACIF,UAAU,EACVC,QAAS,iCA6ENE,sBAvGS,SAACC,GAAD,MAAsB,CAC1CC,QAASD,EAAMC,QAAQC,MACvBC,YAAaH,EAAMC,QAAQG,OAGJ,SAACC,GAAD,MAAoB,CAC3CH,MAAO,SAACI,GAAD,OAA4BD,EAASE,YAAYD,KACxDF,KAAM,kBAAMC,EAASG,kBAgGVT,CAGbN,IAASgB,eA5E8B,SAAAC,GAMnC,IALF7B,EAKE6B,EALF7B,KACAoB,EAIES,EAJFT,QACAC,EAGEQ,EAHFR,MACAC,EAEEO,EAFFP,YACAC,EACEM,EADFN,KAEQO,EAAsC9B,EAAtC8B,kBAAmBC,EAAmB/B,EAAnB+B,eAC3BC,oBAAU,WACNT,KACD,CAACA,IASJ,OACInB,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAD,CAAU6B,MAAM,gBACZ9B,EAAAC,EAAAC,cAAA6B,EAAA9B,EAAA,CACI+B,UAAWjC,EACXkC,SAAUf,EACVgB,iBAAkB7B,IAAMP,MAExBE,EAAAC,EAAAC,cAAA,QAAMiC,UAAW9B,IAAMX,KACnBM,EAAAC,EAAAC,cAAA,UAAQiC,UAAW9B,IAAMV,QACrBK,EAAAC,EAAAC,cAAA,UAAKkC,8BAETpC,EAAAC,EAAAC,cAAA,WAASiC,UAAW9B,IAAMT,MACtBI,EAAAC,EAAAC,cAAAmC,EAAApC,EAAA,KACID,EAAAC,EAAAC,cAACK,EAAD,KACKmB,EAAkB,WAAY,CAC3BjB,MAAOA,EAAMC,UADhBgB,CAGG1B,EAAAC,EAAAC,cAAAoC,EAAArC,EAAA,CACIsC,KAAK,QACLC,WAAS,EACTC,YAAY,mBAIxBzC,EAAAC,EAAAC,cAACK,EAAD,KACKmB,EAAkB,YAAa,CAC5BjB,MAAOA,EAAMI,UADhBa,CAGG1B,EAAAC,EAAAC,cAAAoC,EAAArC,EAAA,CACIsC,KAAK,QACLnC,KAAK,WACLqC,YAAY,mBAIxBzC,EAAAC,EAAAC,cAACK,EAAD,KACIP,EAAAC,EAAAC,cAAAwC,EAAAzC,EAAA,CACIe,QAASA,EACTmB,UAAW9B,IAAMR,SACjB0C,KAAK,QACLnC,KAAK,UACLuC,QAjDjB,WACXhB,EAAe,SAACiB,EAAOvB,GACduB,IACDC,QAAQC,IAAIzB,GACZJ,EAAMI,QAwCU","file":"static/js/login.382c56ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"con\":\"login_con__TTqGg\",\"header\":\"login_header__3D3a1\",\"form\":\"login_form__2ZnkI\",\"loginBtn\":\"login_loginBtn__dlGQL\",\"spin\":\"login_spin__38DOI\"};","import React, { FunctionComponent, memo, useEffect } from 'react'\nimport { Button, Form, Icon, Input, Spin } from 'antd'\nimport style from './index.module.scss'\nimport { FormComponentProps } from 'antd/lib/form/Form'\nimport Document from 'react-document-title'\nimport { connect } from 'react-redux'\nimport { AppState } from '@/stores/create'\nimport { authAction, loginAction } from '@/stores/ducks/global'\nimport { ILoginPayload } from '@/stores/ducks/global.type'\nimport { RouteComponentProps } from 'react-router'\nconst antIcon = <Icon type=\"loading\" style={{ fontSize: 80 }} spin />\n\nconst { Item, create } = Form\n\nconst mapStateToProps = (state: AppState) => ({\n    loading: state.loading.login,\n    authLoading: state.loading.auth\n})\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    login: (payload: ILoginPayload) => dispatch(loginAction(payload)),\n    auth: () => dispatch(authAction())\n})\n\ninterface IProps\n    extends FormComponentProps<ILoginPayload>,\n        ReturnType<typeof mapStateToProps>,\n        ReturnType<typeof mapDispatchToProps>,\n        RouteComponentProps {}\n\nconst rules = {\n    username: [\n        {\n            required: true,\n            message: 'Please input your username!'\n        }\n    ],\n    password: [\n        {\n            required: true,\n            message: 'Please input your Password!'\n        }\n    ]\n}\nconst Login: FunctionComponent<IProps> = ({\n    form,\n    loading,\n    login,\n    authLoading,\n    auth\n}) => {\n    const { getFieldDecorator, validateFields } = form\n    useEffect(() => {\n        auth()\n    }, [auth])\n    const submit = () => {\n        validateFields((error, payload) => {\n            if (!error) {\n                console.log(payload)\n                login(payload)\n            }\n        })\n    }\n    return (\n        <Document title=\"登录\">\n            <Spin\n                indicator={antIcon}\n                spinning={authLoading}\n                wrapperClassName={style.spin}\n            >\n                <main className={style.con}>\n                    <header className={style.header}>\n                        <h1>{process.env.REACT_APP_NAME}</h1>\n                    </header>\n                    <section className={style.form}>\n                        <Form>\n                            <Item>\n                                {getFieldDecorator('username', {\n                                    rules: rules.username\n                                })(\n                                    <Input\n                                        size=\"large\"\n                                        autoFocus\n                                        placeholder=\"账号\"\n                                    />\n                                )}\n                            </Item>\n                            <Item>\n                                {getFieldDecorator('passsword', {\n                                    rules: rules.password\n                                })(\n                                    <Input\n                                        size=\"large\"\n                                        type=\"password\"\n                                        placeholder=\"密码\"\n                                    />\n                                )}\n                            </Item>\n                            <Item>\n                                <Button\n                                    loading={loading}\n                                    className={style.loginBtn}\n                                    size=\"large\"\n                                    type=\"primary\"\n                                    onClick={submit}\n                                >\n                                    登录\n                                </Button>\n                            </Item>\n                        </Form>\n                    </section>\n                </main>\n            </Spin>\n        </Document>\n    )\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(create()(memo(Login)))\n"],"sourceRoot":""}